---
title: "Матрица зрелости продуктов"
description: "Матрица зрелости продуктов Леруа Мерлен"
simple_list: true
type: docs
---

Матрица зрелости DevOps призвана помочь командам в развитии качества их продуктов в рамках технологической поставки. Она хватывает все стадии разработки. 


![DevOps matrix](https://github.com/adeo/lmru--tech/blob/DevOps-matrix/static/images/Razrabotka.png)


### Предисловие

Далее мы разберем стадии разработки, а также укажем те контроли, которые мы выбрали к той или иной стадии разработки. 

!Важно: 
В этой матрице намерено отсутствует четкие инструкции. Мы не хотели ограничивать команды в выборе средств, а указали только "Контроли", которые будут проверяться (высокоуровневые). Грубо говоря если у вас более эффективные и логичные способы выполнить пункт, мы их примем. Мы добавили в комментарии возможные варианты, но это ни в коем случае не конечный список.

## Разработка

|Секция         |Описание                                  |<span style="color:bronze">Бронзовый</span>   |<span style="color:red">Серебрянный</span>    |Золотой    |Платиновый          |Комментарии            | 
|:--------------|:-----------------------------------------|:-----------:|:-------------:|:---------:|:------------------:|:----------------------| 
|Разработка     |Код хранится локально                     |+            |               |           |                    |                       |
|Разработка     |Код хранится централизовано в VCS системе команды   |+            |+              |           |                    |                       |
|Разработка     |Код хранится в централизованном VCS компании        |             |+              |+          |                    |                       |
|Разработка     |Используется практика проведения Code Review        |             |               |+          |+                   |                       |
|Юнит тесты     |Unit тесты отсутствуют                    |+            |               |           |                   |                       |
|Юнит тесты     |Покрытие < 20%                            |             |+              |           |                   |                       |
|Юнит тесты     |Покрытие от 20% до 80%                    |             |               |+          |                   |                       |
|Юнит тесты     |Покрытия > 80%                            |             |               |           |+                  |                       |
|Статический анализ |Статический анализ кода не применяется|+             |               |           |                  |                       |
|Статический анализ |Использование централизованного инструмента статического анализа кода|             |+               |+           |+                 |                       |
|Статический анализ |Настроены правила для различных ЯП и фреймворков, которые регулярно обновляются (Quality Profile)|             |               |+           |+                 |Quality Profile lanuage default <= B |
|Статический анализ |Созданы критерии прохождения при сборке (Quality Gate)|             |               |+           |+                 |для RFC достаточно Quality Gate удовлетворяющего требований по coverage|
|Статический анализ |Настроены правила ИБ, которые регулярно обновляются (Security Quality Profile)|             |               |+           |+                |Checkmarx pipeline integration|


## Сборка

|Секция         |Описание                                  |<span style="color:bronze">Бронзовый</span>   |<span style="color:red">Серебрянный</span>    |Золотой    |Платиновый          |Комментарии            | 
|:--------------|:-----------------------------------------|:-----------:|:-------------:|:---------:|:------------------:|:----------------------| 
|Артефакты |Отсутствует автоматизация сборки|+             |               |           |                |                       |
|Артефакты |Отдельная автоматизированная сборка под каждую среду|             |+               |           |                |через CI тул, неважно какой |
|Артефакты |Осуществляется версионный контроль дистрибутивов с использованием семантического версионирования|             |+               |+           |+                |Семвер орг|
|Артефакты |Используется единый формат дистрибутивов|             |               |+           |+                |есть корпоративные форматы дистрибутивов и команда им следует либы в виде пакетов, готовые приложения в виде docker images если применимо|
|Артефакты |Централизованное хранение дистрибутивов|             |               |+           |+                |                       |
|Артефакты |Единая сборка для всех сред|             |               |+           |+                |дистрибутив отделен от конфигурации|
|Обратная связь |Билд падает в случае: 1. Нахождения уязвимых зависимостей определенного уровня. 2. отсуствия проверки на уязвимости. 3. Наличия не "принятых" ранее уязвимостей|             |               |           |+                | shared-pipelline / waitQualityGate ()|
|Обратная связь |Результаты тестов влияют на сборку Результаты стат. анализа кода влияют на сборку|             |               |+           |+                | |
|Обратная связь |Проводится регулярное review качества и скорости процедур сборки|             |               |           |+                ||

## Тестирование

|Секция         |Описание                                  |<span style="color:bronze">Бронзовый</span>   |<span style="color:red">Серебрянный</span>    |Золотой    |Платиновый          |Комментарии            | 
|:--------------|:-----------------------------------------|:-----------:|:-------------:|:---------:|:------------------:|:----------------------| 
|Общее   | Полностью ручное тестирование или тестирование не выполняется. Нет единой системы управления тестированием | +| | | | |
|Общее   | Все тесты ведутся в Системе управления тестированием | |+ |+ |+ | речь про тест-кейсы|
|Общее   | Тесты вызываются вручную | |+ | | | |
|Общее   | Автоматический запуск тестов с помощью централизованного инструмента развертывания | | |+ |+ | |
|Функциональное | Автоматизация тестов до 80% от общего числа тестов | | |+ | | |
|Функциональное | Автоматизация тестов от 80% общего числа тестов | | | |+ | |
|Интеграционное | Интеграционное тестирование не проводится |+ | | | | |
|Интеграционное | Интеграционное тестирование проводится вручную | |+ | | | |
|Интеграционное | Автоматизированное интеграционное тестирование | | |+ | | |
|Интеграционное | Применяется автоматизированное контрактное тестирование с ипользованием централизованной базы контрактов | | | |+ | |
|Производительности | Тестирование производительности не проводится в рамках процедуры поставки |+ | | | | |
|Производительности | Автоматический сбор результатов нагрузочного тестирования с помощью централизованного инструмента развертывания | |+ |+ |+ | |
|Производительности | Автоматический анализ результатов нагрузочного тестирования с помощью централизованного инструмента развертывания | | |+ |+ | |
|Производительности | Автоматическая подготовка среды нагрузочного тестирования с помощью централизованного инструмента развертывания | | | |+ | |
|Безопасности | Динамическое тестирование ИБ не проводится |+ |+ |+ | | |
|Безопасности | Автоматический анализа зависимостей на ИБ (OSA) | | |+ |+ |"Jfrog" for dev/stg/uat/prod. |
|Безопасности | Автоматическое динамическое тестирование ИБ (DAST) | | | |+ | |
|Безопасности | Автоматическое интерактивное тестирование ИБ (IAST) | | | |+ | |
|Моделирование угроз | Используется моделирование угроз: Все текущие компоненты оценены по рекомендованной методике. Все новые компоненты проходят оценку по рекомендованной методике | | | |+ |Рекомендованная методика моделирования угроз: "STRIDE" |

## Релиз и Развертывание

|Секция         |Описание                                  |<span style="color:bronze">Бронзовый</span>   |<span style="color:red">Серебрянный</span>    |Золотой    |Платиновый          |Комментарии            | 
|:--------------|:-----------------------------------------|:-----------:|:-------------:|:---------:|:------------------:|:----------------------| 
|Доставка  | Используются статические среды, выделяемые по запросу | +|+ |+ | | ака руками |
|Доставка  | Развертывание производится в ручном режиме | +| | | | |
|Доставка  | Автоматическая установка скриптом, запускаемым вручную | |+ | | | |
|Доставка  | Автоматическая установка с применением единообразных сценариев развертывания, включая настройки  | | |+ |+ | |
|Доставка  | Ручные smoke-тесты после развертывания  | |+ | | | |
|Доставка  | Автоматическая проверка установки через smoke-тесты  | | |+ |+ | |
|Доставка  | Автоматическая проверка установки через smoke-тесты  | | | |+ | |
|Развертывание | Откат приложений осуществляется вручную |+ |+ | | | |
|Развертывание | Использование инструмента управления релизами и его интеграция в процесс развертывания | |+ |+ |+ | |
|Развертывание | Автоматическая миграция БД | | |+ |+ | |
|Развертывание | Автоматический откат приложений | | |+ |+ | |
|Развертывание | Автоматическое Canary/Blue-Green развертывание | | | |+ | |
|Развертывание | Автоматическая создание дефектов в системе управления дефектами, если процесс развертывания завершился неудачно | | | |+ | |
|Управление секретами |Секреты хранятся и используются с соблюдением требований информационной безопасности |+ |+ |+ |+ |Можно проверить наличие секретов по репозиторию на портале тех долга: https://sdebt.lmru.tech/d/pP04I2Vnk/general-security-brief |
|Управление секретами |Секреты хранятся в одном из защищенных хранилищ | | |+ |+ |Самые часто используемые типы "секретов":Privileged account credentials;Passwords;Certificates;SSH keys;API keys;Encryption keys;Connection strings;Рекомендованные средства:Jenkins Credentials with masking, HashiCorp Vault, GitSecrets.|
|Управление секретами |Секреты для прода не используются в других окружениях. Расписать примеры, когда это может быть проблемой. Учесть тестовую интеграцию с других с другими продовыми окружениями. Минимум от платины. | | | |+ |DEV, UAT, STG среды не содержат токенов, секретов, сертификатов, данных, и.т.д., которые используются в PROD. Пример 1: Для установления соединение с пользователя с порталом используется Wildcard сертификат для PROD, DEV и других окружений, что является уязвимостью дизайна так как при компроментации тестового окружения (с заведомо слабыми средствами защиты), компроментируется и PROD. Пример 2: Для тестовых сред используются те же ssh-ключи, пароли, что и для продового окружения. (Что также является уязвимостью дизайна)|

## Эксплуатация

|Секция         |Описание                                  |<span style="color:bronze">Бронзовый</span>   |<span style="color:red">Серебрянный</span>    |Золотой    |Платиновый          |Комментарии            | 
|:--------------|:-----------------------------------------|:-----------:|:-------------:|:---------:|:------------------:|:----------------------| 
|Логирование | Отсутствует логирование | +| | | | |
|Логирование | Сбор и анализ логов ведется через инструмент хранения и визуализации | |+ |+ |+ | |
|Логирование | Сбор и анализ логов ведется через инструмент хранения и визуализации | | | |+ |Правила логирования(json, stdout/err,utc timeformat,.....). |
|Усиление инфраструктуры | Проводится регулярный анализ инфраструктуры или контейнеров на соответствие требований ИБ. | | | |+ | |
|Усиление инфраструктуры | Автоматический анализ уязвимостей (Vulnerability Management)| | | |+ |Рекомендуемые средства: "Qualys" или "Aqua" |
|Мониторинг | Отсутствует мониторинг |+ | | | | |
|Мониторинг | Сбор метрик ведется через корпоративный инструмент мониторинга | |+ |+ |+ | |
|Мониторинг | Настроены SLO по техническим метрикам через корпоративный инструмент мониторинга | | |+ |+ |Доступность, быстродействие, нагрузка.
"vm"-info(jvm/rvm/node), application metrics(db time, error counter, ...) |
|Мониторинг | Настроены SLO по бизнес метрикам через корпоративный инструмент мониторинга | | | |+ | |
|Уведомления | Отсутствуют уведомления о сбоях|+| | | | |
|Уведомления | Уведомления о сбоях отправляются в неструктурированые каналы коммуникации||+| | | |
|Уведомления | Уведомления об сбоях ведутся через единую систему управления инцидентами и коммуникациями|||+|+| |
|Уведомления | Поддержка приложений осуществляется непрерывно на основе матрицы эскалации и расписании дежурств||||+| |

